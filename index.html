<!doctype html>
<html lang="en" dir="ltr" class="mdx-wrapper mdx-page plugin-pages plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">Scalus - DApps Development Platform for Cardano | Scalus</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://scalus.org/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://scalus.org/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://scalus.org/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Scalus - DApps Development Platform for Cardano | Scalus"><meta data-rh="true" name="description" content="CI/Release"><meta data-rh="true" property="og:description" content="CI/Release"><link data-rh="true" rel="icon" href="/img/scalus-logo-32.png"><link data-rh="true" rel="canonical" href="https://scalus.org/"><link data-rh="true" rel="alternate" href="https://scalus.org/" hreflang="en"><link data-rh="true" rel="alternate" href="https://scalus.org/" hreflang="x-default"><script data-rh="true">function insertBanner(){var n=document.createElement("div");n.id="__docusaurus-base-url-issue-banner-container";n.innerHTML='\n<div id="__docusaurus-base-url-issue-banner" style="border: thick solid red; background-color: rgb(255, 230, 179); margin: 20px; padding: 20px; font-size: 20px;">\n   <p style="font-weight: bold; font-size: 30px;">Your Docusaurus site did not load properly.</p>\n   <p>A very common reason is a wrong site <a href="https://docusaurus.io/docs/docusaurus.config.js/#baseUrl" style="font-weight: bold;">baseUrl configuration</a>.</p>\n   <p>Current configured baseUrl = <span style="font-weight: bold; color: red;">/</span>  (default value)</p>\n   <p>We suggest trying baseUrl = <span id="__docusaurus-base-url-issue-banner-suggestion-container" style="font-weight: bold; color: green;"></span></p>\n</div>\n',document.body.prepend(n);var e=document.getElementById("__docusaurus-base-url-issue-banner-suggestion-container"),s=window.location.pathname,o="/"===s.substr(-1)?s:s+"/";e.innerHTML=o}document.addEventListener("DOMContentLoaded",(function(){void 0===window.docusaurus&&insertBanner()}))</script><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-JMC32W1C5Z"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-JMC32W1C5Z",{anonymize_ip:!0})</script><link rel="stylesheet" href="/assets/css/styles.1abecfbb.css">
<script src="/assets/js/runtime~main.7b49f3e5.js" defer="defer"></script>
<script src="/assets/js/main.6cc22e1c.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"dark")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/scalus-logo-32.png" alt="Scalus Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/scalus-logo-32.png" alt="Scalus Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Scalus</b></a><a class="navbar__item navbar__link" href="/docs/Installation">Documentation</a><a href="https://scalus.org/api/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/nau/scalus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><main class="container container--fluid margin-vert--lg"><div class="row mdxPageWrapper_j9I6"><div class="col col--8"><article><header><h1>Scalus - DApps Development Platform for Cardano</h1></header>
<p><img decoding="async" loading="lazy" src="https://github.com/nau/scalus/actions/workflows/release.yml/badge.svg" alt="CI/Release" class="img_ev3q">
<img decoding="async" loading="lazy" src="https://img.shields.io/maven-central/v/org.scalus/scalus_3" alt="Maven Central" class="img_ev3q">
<a href="https://discord.gg/ygwtuBybsy" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" src="https://img.shields.io/discord/1105852427346911252.svg?label=&amp;logo=discord&amp;logoColor=ffffff&amp;color=404244&amp;labelColor=6A7EC2" alt="Discord" class="img_ev3q"></a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="vision">Vision<a href="#vision" class="hash-link" aria-label="Direct link to Vision" title="Direct link to Vision">​</a></h2>
<p>Scalus is a platform for developing decentralized applications (DApps) on the Cardano blockchain.</p>
<p>The goal is to make a full-stack development experience for Cardano DApps as smooth as possible.
Using the same language, tools and code for frontend, backend and smart contracts development.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="write-cardano-smart-contracts-in-scala-3">Write Cardano smart contracts in Scala 3<a href="#write-cardano-smart-contracts-in-scala-3" class="hash-link" aria-label="Direct link to Write Cardano smart contracts in Scala 3" title="Direct link to Write Cardano smart contracts in Scala 3">​</a></h2>
<ul>
<li>Scala is a modern functional programming language that runs on JVM, JavaScript and natively via LLVM.</li>
<li>Reuse your Scala code for your validator, frontend and backend.</li>
<li>Write once, run anywhere. True full-stack development.</li>
<li>Scala&#x27;s powerful type system helps you write correct code.</li>
<li>Benefit from a huge ecosystem of libraries and tools.</li>
<li>Utilize testing frameworks like ScalaTest and ScalaCheck
for <a href="https://en.wikipedia.org/wiki/Property-based_testing" target="_blank" rel="noopener noreferrer">property-based testing</a>.</li>
<li>Enjoy comprehensive IDE support: IntelliJ IDEA, VSCode and syntax highlighting on GitHub.</li>
<li>Advanced debugging support.</li>
<li>Enhanced code formatting and linting, navigation, and refactoring.</li>
<li>Scala code coverage and profiling tools.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-it-works">How It Works<a href="#how-it-works" class="hash-link" aria-label="Direct link to How It Works" title="Direct link to How It Works">​</a></h2>
<p>Scalus compiles a subset of Scala code to Plutus Core, the language of Cardano smart contracts.</p>
<p>Scalus gives full control over the generated Plutus Core code.
Write efficient and compact smart contracts and squeeze the most out of the Cardano blockchain.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<ul>
<li>Scala 3 to Cardano Plutus Core compiler</li>
<li>Standard library for Plutus contracts development</li>
<li>Plutus V1, V2 and V3 support</li>
<li>Plutus VM Interpreter and execution budget calculation for Plutus V1, V2 and V3</li>
<li>Plutus VM library works on JVM, JavaScript and Native platforms!</li>
<li>Property-based testing library</li>
<li>Untyped Plutus Core (UPLC) data types and functions</li>
<li>Flat, CBOR, JSON serialization</li>
<li>UPLC parser and pretty printer</li>
<li>Type safe UPLC expression builder, think of Plutarch</li>
<li>Bloxbean <a href="https://cardano-client.dev" target="_blank" rel="noopener noreferrer">Cardano Client Lib</a> integration</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scalus-starter-project">Scalus Starter Project<a href="#scalus-starter-project" class="hash-link" aria-label="Direct link to Scalus Starter Project" title="Direct link to Scalus Starter Project">​</a></h2>
<p>You can use the <a href="https://github.com/nau/scalus-starter" target="_blank" rel="noopener noreferrer">Scalus Starter Project</a> to get started with Scalus.
Clone the repository and follow the instructions in the README.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="show-me-the-code">Show Me The Code<a href="#show-me-the-code" class="hash-link" aria-label="Direct link to Show Me The Code" title="Direct link to Show Me The Code">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preimage-validator-example">Preimage Validator Example<a href="#preimage-validator-example" class="hash-link" aria-label="Direct link to Preimage Validator Example" title="Direct link to Preimage Validator Example">​</a></h3>
<p>Here is a simple validator that checks that an signer of <code>pkh</code> PubKeyHash provided a preimage of a <code>hash</code> in a <code>redeemer</code>.
Below example is taken from <a href="https://github.com/nau/scalus/blob/master/shared/src/main/scala/scalus/examples/PreimageValidator.scala#L19" target="_blank" rel="noopener noreferrer">PreimageValidator</a></p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> preimageValidator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">datum</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> redeemer</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ctxData</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Unit</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// deserialize from Data</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">hash</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> pkh</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> datum</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ByteString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ByteString</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> preimage </span><span class="token operator">=</span><span class="token plain"> redeemer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">toByteString</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> ctx </span><span class="token operator">=</span><span class="token plain"> ctxData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">to</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">ScriptContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// get the transaction signatories</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> signatories </span><span class="token operator">=</span><span class="token plain"> ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">txInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">signatories</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// check that the transaction is signed by the public key hash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">findOrFail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">signatories</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"> sig </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">=&gt;</span><span class="token plain"> sig</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">hash </span><span class="token operator">==</span><span class="token plain"> pkh </span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token comment" style="color:rgb(98, 114, 164)">// check that the preimage hashes to the hash</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> sha2_256</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">preimage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token operator">==</span><span class="token plain"> hash then </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">throw</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> RuntimeException</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Wrong preimage&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// throwing an exception compiles to UPLC error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// compile to Untyped Plutus Core (UPLC)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> compiled </span><span class="token operator">=</span><span class="token plain"> compile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">preimageValidator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">toUplc</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// create a validator script, Plutus program version 1.0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> validator </span><span class="token operator">=</span><span class="token plain"> Program</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> compiled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// HEX encoded Plutus script, ready to be used in with cardano-cli or Blockfrost</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> plutusScript </span><span class="token operator">=</span><span class="token plain"> validator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">doubleCborHex</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Create a Cardano .plutus file for this validator</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">validator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">writePlutusFile</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">path</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> PlutusLedgerLanguage</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">PlutusV2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Look at <a href="https://github.com/nau/scalus/blob/master/examples/src/main/scala/scalus/examples/SendTx.scala#L31" target="_blank" rel="noopener noreferrer">SendTx</a> example for a full example of how to create a transaction with this validator.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scalus-for-budget-calculation-with-cardano-client-lib">Scalus for budget calculation with Cardano Client Lib<a href="#scalus-for-budget-calculation-with-cardano-client-lib" class="hash-link" aria-label="Direct link to Scalus for budget calculation with Cardano Client Lib" title="Direct link to Scalus for budget calculation with Cardano Client Lib">​</a></h3>
<p>Scalus can calculate the execution budget for your validator using the Cardano Client Lib. Just provide <code>ScalusTransactionEvaluator</code> to your <code>QuickTxBuilder</code>:</p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> signedTx </span><span class="token operator">=</span><span class="token plain"> quickTxBuilder</span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">compose</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">scriptTx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">withTxEvaluator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ScalusTransactionEvaluator</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">protocolParams</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> utxoSupplier</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token comment" style="color:rgb(98, 114, 164)">// build your transaction</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">buildAndSign</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This will calculate the execution budget for your validator and add it to the redeemer of the transaction.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adastream-example">AdaStream Example<a href="#adastream-example" class="hash-link" aria-label="Direct link to AdaStream Example" title="Direct link to AdaStream Example">​</a></h3>
<p>Sources: <a href="https://github.com/nau/adastream/blob/main/src/contract.scala" target="_blank" rel="noopener noreferrer">AdaStream Contract</a></p>
<p>This project is a Cardano implementation of the <a href="https://github.com/RobinLinus/BitStream" target="_blank" rel="noopener noreferrer">BitStream</a> protocol by Robin Linus, inventor of <a href="https://bitvm.org/" target="_blank" rel="noopener noreferrer">BitVM</a></p>
<p>Original paper: <a href="https://robinlinus.com/bitstream.pdf" target="_blank" rel="noopener noreferrer">BitStream: Decentralized File Hosting Incentivised via Bitcoin Payments
</a></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="tldr">TL;DR<a href="#tldr" class="hash-link" aria-label="Direct link to TL;DR" title="Direct link to TL;DR">​</a></h4>
<ul>
<li>Alice wants to buy a file from Bob.</li>
<li>Bob encrypts the file with a random key and sends it to Alice.</li>
<li>Bob creates a bond contract on Cardano with a collateral and a commitment to the key and the file.</li>
<li>Alice pays Bob for the file via a HTLC (Hashed Timelock Contract), using Cardano or Bitcoin Lightning Network.</li>
<li>Alice decrypts the file with the key from the HTLC or takes the money back after the timeout.</li>
<li>If Bob cheats, Alice can prove it and get the collateral from the bond contract.</li>
<li>Bob can withdraw the collateral by revealing the key.</li>
</ul>
<p>The project includes a bond contract and a HTLC contract for a fair exchange of files for ADA or other Cardano Native Tokens.</p>
<p>It&#x27;s a CLI tool and a REST API server that allows you to create a bond contract, pay for a file, and decrypt it.</p>
<p>It has a set of tests that check the contract logic and its execution costs.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="mintingburning-example">Minting/Burning Example<a href="#mintingburning-example" class="hash-link" aria-label="Direct link to Minting/Burning Example" title="Direct link to Minting/Burning Example">​</a></h3>
<p>Here is a full example of a token minting/burning validator that works on both JVM and JavaScript:</p>
<p><a href="https://github.com/nau/scalus/blob/master/shared/src/main/scala/scalus/examples/MintingPolicy.scala" target="_blank" rel="noopener noreferrer">MintingPolicy.scala</a></p>
<p>And here is a project that uses it in web frontend:
<a href="https://github.com/nau/scalus/tree/master/examples-js" target="_blank" rel="noopener noreferrer">Scalus Minting Example</a></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="minimal-size-withdrawal-validator">Minimal Size Withdrawal Validator<a href="#minimal-size-withdrawal-validator" class="hash-link" aria-label="Direct link to Minimal Size Withdrawal Validator" title="Direct link to Minimal Size Withdrawal Validator">​</a></h3>
<p>The challenge was to create the smallest possible validator that checks a certain withdrawal exists in the transaction.</p>
<p><a href="https://gist.github.com/nau/b8996fe3e51b0e21c20479c5d8548ec7" target="_blank" rel="noopener noreferrer">The result is 92 bytes long script</a></p>
<div class="language-scala codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-scala codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">val</span><span class="token plain"> validator </span><span class="token operator">=</span><span class="token plain"> compile</span><span class="token operator">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">script_withdrawal_credential</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> datum</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> redeemer</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ctx</span><span class="token operator">:</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> list_has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">list</span><span class="token operator">:</span><span class="token plain"> List</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Pair</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Data</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token operator">:</span><span class="token plain"> </span><span class="token builtin" style="color:rgb(189, 147, 249)">Unit</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">head</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">fst </span><span class="token operator">==</span><span class="token plain"> script_withdrawal_credential then </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> list_has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">list</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">tail</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// fails on empty list</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">inline</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">def</span><span class="token plain"> withdrawal_from_ctx </span><span class="token operator">=</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">      unMapData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">fieldAsData</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token plain">ScriptContext</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">_</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">txInfo</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">withdrawals</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    list_has</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">withdrawal_from_ctx</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scalus-native">Scalus Native<a href="#scalus-native" class="hash-link" aria-label="Direct link to Scalus Native" title="Direct link to Scalus Native">​</a></h2>
<p>Scalus implements a Plutus VM (CEK machine) that works on JVM, JavaScript and Native platforms.
All from the same Scala codebase.</p>
<p>Here&#x27;s how you can evaluate a Plutus script from a C program:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token macro property directive-hash">#</span><span class="token macro property directive keyword" style="color:rgb(189, 147, 249);font-style:italic">include</span><span class="token macro property"> </span><span class="token macro property string" style="color:rgb(255, 121, 198)">&quot;scalus.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Plutus V3, protocol version 10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">machine_params</span><span class="token operator">*</span><span class="token plain"> params </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">scalus_get_default_machine_params</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number">10</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">ex_budget budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token plain"> logs_buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1024</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">char</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">[</span><span class="token number">1024</span><span class="token punctuation" style="color:rgb(248, 248, 242)">]</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> ret </span><span class="token operator">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(80, 250, 123)">scalus_evaluate_script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    script</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// script hex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token number">3</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// Plutus V3</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    params2</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(98, 114, 164)">// machine params</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token operator">&amp;</span><span class="token plain">budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    logs_buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">logs_buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">sizeof</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">ret </span><span class="token operator">==</span><span class="token plain"> </span><span class="token number">0</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">printf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Script evaluation successful. CPU %lld, MEM %lld\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">cpu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">printf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Logs: %s\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> logs_buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">printf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Script evaluation failed: %d\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> ret</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">printf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Units spent: CPU %lld, MEM %lld\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">cpu</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> budget</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">memory</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">printf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Error: %s\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> error</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain">    </span><span class="token function" style="color:rgb(80, 250, 123)">printf</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:rgb(255, 121, 198)">&quot;Logs: %s\n&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> logs_buffer</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F8F8F2"><span class="token plain"></span><span class="token punctuation" style="color:rgb(248, 248, 242)">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>See the full example in the <a href="https://github.com/nau/scalus/blob/master/examples-native/main.c" target="_blank" rel="noopener noreferrer">main.c</a> file.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="how-to-build-a-native-library">How to build a native library<a href="#how-to-build-a-native-library" class="hash-link" aria-label="Direct link to How to build a native library" title="Direct link to How to build a native library">​</a></h3>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F8F8F2;--prism-background-color:#282A36"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#F8F8F2;background-color:#282A36"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F8F8F2"><span class="token plain">sbt scalusNative/nativeLink</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>will produce a shared library in the <code>native/target/scala-3.3.4</code> directory.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="roadmap">Roadmap<a href="#roadmap" class="hash-link" aria-label="Direct link to Roadmap" title="Direct link to Roadmap">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="efficiently-convert-user-defined-data-types-fromto-plutus-data">Efficiently convert user defined data types from/to Plutus Data<a href="#efficiently-convert-user-defined-data-types-fromto-plutus-data" class="hash-link" aria-label="Direct link to Efficiently convert user defined data types from/to Plutus Data" title="Direct link to Efficiently convert user defined data types from/to Plutus Data">​</a></h3>
<p>Now, Scalus takes the same approach as PlutusTx.
This change makes it similar to Aiken, which will result in smaller and more efficient Plutus scripts in most cases.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="single-transaction-building-and-signing-api-for-backend-and-frontend">Single transaction building and signing API for backend and frontend<a href="#single-transaction-building-and-signing-api-for-backend-and-frontend" class="hash-link" aria-label="Direct link to Single transaction building and signing API for backend and frontend" title="Direct link to Single transaction building and signing API for backend and frontend">​</a></h3>
<p>This will allow you to build and sign transactions in Scala and JavaScript using the same code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dapp-development-framework">DApp development framework<a href="#dapp-development-framework" class="hash-link" aria-label="Direct link to DApp development framework" title="Direct link to DApp development framework">​</a></h3>
<p>A framework that will help you build DApps faster and easier.</p>
<p>You define your smart contracts, data types, and interaction endpoints in Scala.
The framework will generate the frontend and backend code for you.</p>
<p>Yes, your REST API, WebSocket, and GraphQL endpoints for your DApp.
And the JavaScript code to interact with your DApp from the browser.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="comparison-to-plutustx-aiken-plutarch">Comparison to PlutusTx, Aiken, Plutarch<a href="#comparison-to-plutustx-aiken-plutarch" class="hash-link" aria-label="Direct link to Comparison to PlutusTx, Aiken, Plutarch" title="Direct link to Comparison to PlutusTx, Aiken, Plutarch">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plutustx">PlutusTx<a href="#plutustx" class="hash-link" aria-label="Direct link to PlutusTx" title="Direct link to PlutusTx">​</a></h3>
<p>PlutusTx compiles almost any Haskell program to UPLC.
Cons are that you can barely understand how the UPLC is generated and how to make it smaller.
PlutusTx also tends to generate a lot of boilerplate code making the final script size bigger and more expensive to run.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="aiken">Aiken<a href="#aiken" class="hash-link" aria-label="Direct link to Aiken" title="Direct link to Aiken">​</a></h3>
<p>Aiken is a new and young programming language which is a pro and a con.
Can only be used for writing on-chain smart contracts.
Can&#x27;t reuse code for on-chain and off-chain parts.
Doesn&#x27;t have macros.
Doesn&#x27;t allow a low-level control over the generated UPLC code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plutarch">Plutarch<a href="#plutarch" class="hash-link" aria-label="Direct link to Plutarch" title="Direct link to Plutarch">​</a></h3>
<p>Plutarch is very low-level. Use it when you need precise control over a script generation.
It&#x27;s a Haskell library so be prepared to write Haskell code with all its developer experience drawbacks.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="plu-ts">Plu-ts<a href="#plu-ts" class="hash-link" aria-label="Direct link to Plu-ts" title="Direct link to Plu-ts">​</a></h3>
<p>Plu-ts is a TypeScript DSL for writing Plutus scripts.
With Scalus you can do the same and much more but in Scala, and produce JavaScript code.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="scalus">Scalus<a href="#scalus" class="hash-link" aria-label="Direct link to Scalus" title="Direct link to Scalus">​</a></h3>
<p>Scalus aimes to be a better version of all the above.</p>
<ul>
<li>
<p>You can actually reuse Scala code for your validator, frontend and backend!
The goal that PlutusTx failed to achieve.</p>
</li>
<li>
<p>You can use existing Scala libraries for testing, including ScalaCheck and ScalaTest.</p>
</li>
<li>
<p>Scala has a powerful type system that helps you write correct code. Check
out <a href="https://stainless.epfl.ch/" target="_blank" rel="noopener noreferrer">Stainless – Formal Verification for Scala</a> for formal verification.</p>
</li>
<li>
<p>Scalus leverages all the development tools that Scala has, including IntelliJ Idea, VSCode, sbt, even GitHub CoPilot
and ChatGPT! No need to learn new tools and languages.</p>
</li>
<li>
<p>Debugger! It works!</p>
</li>
<li>
<p>Scalus allows only a limited subset of Scala, that can be reasonably efficiently
compiled to UPLC without bloating the code.</p>
</li>
<li>
<p>It&#x27;s compiled to a fairly high-level human-readable intermediate representation, SIR.</p>
</li>
<li>
<p>The huge part of any usefull script is <code>ScriptContext</code> deserialization from <code>Data</code> representation.
Scalus also provides primitives to do your custom deserialization to reduce validator size.</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="support">Support<a href="#support" class="hash-link" aria-label="Direct link to Support" title="Direct link to Support">​</a></h2>
<p>You can ask questions on Scalus Discord: <a href="https://discord.gg/ygwtuBybsy" target="_blank" rel="noopener noreferrer">https://discord.gg/ygwtuBybsy</a></p>
<p>The project is looking for funding to make it production ready.
If you are interested, please contact me at <a href="https://twitter.com/atlanter" target="_blank" rel="noopener noreferrer">@atlanter</a> on Twitter.
Follow the official Scalus Twitter account: <a href="https://twitter.com/Scalus3" target="_blank" rel="noopener noreferrer">@Scalus3</a>.</p>
<p>You can support the project by donating ADA or BTC to the following addresses:</p>
<p>ADA: addr1qxwg0u9fpl8dac9rkramkcgzerjsfdlqgkw0q8hy5vwk8tzk5pgcmdpe5jeh92guy4mke4zdmagv228nucldzxv95clqe35r3m</p>
<p>Please, consider becoming a sponsor on GitHub.</p>
<p>And vote for the project on Cardano Catalyst!</p></article></div><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#vision" class="table-of-contents__link toc-highlight">Vision</a></li><li><a href="#write-cardano-smart-contracts-in-scala-3" class="table-of-contents__link toc-highlight">Write Cardano smart contracts in Scala 3</a></li><li><a href="#how-it-works" class="table-of-contents__link toc-highlight">How It Works</a></li><li><a href="#features" class="table-of-contents__link toc-highlight">Features</a></li><li><a href="#scalus-starter-project" class="table-of-contents__link toc-highlight">Scalus Starter Project</a></li><li><a href="#show-me-the-code" class="table-of-contents__link toc-highlight">Show Me The Code</a></li><li><a href="#scalus-native" class="table-of-contents__link toc-highlight">Scalus Native</a></li><li><a href="#roadmap" class="table-of-contents__link toc-highlight">Roadmap</a></li><li><a href="#comparison-to-plutustx-aiken-plutarch" class="table-of-contents__link toc-highlight">Comparison to PlutusTx, Aiken, Plutarch</a></li><li><a href="#support" class="table-of-contents__link toc-highlight">Support</a></li></ul></div></div></div></main></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/Tutorial">Tutorial</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://discord.gg/ygwtuBybsy" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/Scalus3" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/nau/scalus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Lantr Labs. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>